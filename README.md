## `thomasduffy.io`
This repo contains _everything_ behind my personal website in code! It's a static website hosted on GCP's Cloud Storage using infrastructure provisioned on GCP by [Terraform](https://www.terraform.io/docs/providers/google/index.html) and static assets generated by [Hugo](https://gohugo.io/).

## Steps
This [guide](https://cloud.google.com/storage/docs/hosting-static-website), serves as a decenthigh level walkthrough of the setup (which they do manually). Most of what is contained here follows that but doing so with code (Terraform) and programmatically generated static assets (Hugo).

### Terraform
[Terraform](https://www.terraform.io/) is a super useful framework developed by HashiCorp which provides a declarative language (HCL) and accompanying cli `terraform` to manage your infrastructure like code (Infrastructure-as-Code / IaC). All you have to do is specify the infrastructure you want to provision (using the `provider` modules), and **BOOM** you've got infrastructure! And you don't have to remember all the steps to put your system in a working state. 

The module to specify the infrastructure is contained within [terraform/gcp](./terraform/gcp). It provisions a managed zone for DNS, load balancers with redirect rules for HTTP -> HTTPS, and the Storage bucket containing the static assets that are the website itself.

<< TODO: tidbits like service account IAM, account.json file, SSL cert in beta, how to integrate with Google domains >>

### GitHub Actions
GitHub Actions is essentially a CI/CD pipeline built into GitHub. The nice thing is it's free for a public repository! 

This allows us to keep our static site artifacts (stored in our bucket provisioned in <<link>>) in sync with this repo. Simply merging to `master` adds whatever changes we make there. No sweat! This is from the beauty of GCP's [repo](https://github.com/GoogleCloudPlatform/github-actions/tree/master) of GitHub actions.

#### How To

```bash
cat account.json | base64
```